configuration:
  name: Default
  monitorInterval: 60
  status: INFO

  appenders:
    console:
      name: console_Appender
      target: SYSTEM_OUT
      patternLayout:
        Pattern: '%d level=%level thread=[%t] caller=[%c{1.}] context=%X exception=[%equals{%replace{%throwable}{:[\w\W]*}{}}{}{NULL}] message=%highlight{%msg}{bold,blue}%n%throwable %n'
    rollingFile:
      name: rollingFile_Appender
      fileName: logs/zieta.txt
      filePattern: 'logs/$${date:yyyy-MM}/${sys:application.name:-vta}-%d{MM-dd-yyyy}-%i.log.gz'
      patternLayout:
        Pattern: '%d level=%p caller=%c{1.} thread=[%t] context=%X exception=%equals{%replace{%throwable}{:[\w\W]*}{}}{}{NULL} message=%enc{%replace{%m}{(("|\s)(\d{4}|\d{10}|\d{11}|\d{16}|(\d{3}(\s*|-)\d{3}(\s*|-)\d{4}))("|\s))|(\w*@\w+([\.-]?\w+)*(\.\w{2,3}))}{#####}}{CRLF}%n'
      policies:
        sizeBasedTriggeringPolicy:
          size: 10 MB
      defaultRollOverStrategy:
        max: 10
    async:
       - name: prodAppender
         appenderRef:
          - ref: rollingFile_Appender
            thresholdFilter:
              level: INFO
              onMatch: ACCEPT
              onMismatch: DENY
       - name: prodpAppender
         appenderRef:
          - ref: console_Appender
            thresholdFilter:
              level: INFO
              onMatch: ACCEPT
              onMismatch: DENY
          - ref: rollingFile_Appender
            thresholdFilter:
              level: INFO
              onMatch: ACCEPT
              onMismatch: DENY
       - name: testAppender
         appenderRef:
          - ref: console_Appender
            thresholdFilter:
              level: DEBUG
              onMatch: ACCEPT
              onMismatch: DENY
          - ref: rollingFile_Appender
            thresholdFilter:
              level: INFO
              onMatch: ACCEPT
              onMismatch: DENY
       - name: intAppender
         appenderRef:
          ref: rollingFile_Appender
          thresholdFilter:
            level: INFO
            onMatch: ACCEPT
            onMismatch: DENY
       - name: stressAppender
         appenderRef:
          ref: rollingFile_Appender
          thresholdFilter:
            level: INFO
            onMatch: ACCEPT
            onMismatch: DENY
       - name: devAppender
         appenderRef:
          - ref: console_Appender
            thresholdFilter:
              level: DEBUG
              onMatch: ACCEPT
              onMismatch: DENY
          - ref: rollingFile_Appender
            thresholdFilter:
              level: INFO
              onMatch: ACCEPT
              onMismatch: DENY
  loggers:
    logger:
      - name: org.springframework.*
        level: info
        additivity: false
        appenderRef:
          - ref: ${sys:application.environment:-dev}Appender
      - name: com.zietaproj.zieta.*
        level: debug
        additivity: false
        appenderRef:
          - ref: ${sys:application.environment:-dev}Appender
    root:
      appenderRef:
        - ref: ${sys:application.environment:-dev}Appender
      level: info
